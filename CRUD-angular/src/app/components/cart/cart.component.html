<section class="h-100 h-custom">
  <div class="bg-light py-3">
    <div class="container">
      <div class="row">
        <div class="col-md-12 mb-0">
          <a href="index.html">Home</a> <span class="mx-2 mb-0">/</span>
          <strong class="text-black">Cart</strong>
        </div>
      </div>
    </div>
  </div>

  <div class="container h-100 py-5">
    <div class="row d-flex justify-content-center align-items-center">
      <div class="col">

        <div class="table-responsive">
          <table class="table">
            <thead>
              <tr>
                <th scope="col" class="h5">Shopping Bag</th>
                <th scope="col">Quantity</th>
                <th scope="col">Price</th>
                <th scope="col">Action</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of cartItems">
                <th scope="row">
                  <div class="d-flex align-items-center">
                    <img src="{{imageUrl}}/{{item.productId.image.path}}"
                      class="img-fluid rounded-3" style="height: 100px;" width="100px" alt="Book">
                    <div class="flex-column ms-4">
                      <p class="mb-2">{{item.productId.title}}</p>
                      <p class="mb-0">{{item.productId.category}}</p>
                    </div>
                  </div>
                </th>

                <td class="align-middle">
                  <div class="d-flex flex-row">
                    <button class="btn px-2"
                      onclick="this.parentNode.querySelector('input[type=number]').stepDown()">
                      -
                    </button>

                    <input id="form1" min="0" name="quantity" value="1" type="number"
                      class="form-control form-control-sm" style="width: 50px;"  readonly/>

                    <button class="btn px-2"
                      onclick="this.parentNode.querySelector('input[type=number]').stepUp()">
                      +
                    </button>
                  </div>
                </td>
                <td class="align-middle">
                  <p class="mb-0" style="font-weight: 500;">{{item.productId.price}} â‚¹</p>
                </td>
                <td class="align-middle">
                  <a (click)="removeFromCart(item._id)">X</a>
                </td>
              </tr>

            </tbody>
          </table>
        </div>
        <div class="float-end card">
          <h3 class="m-1 fw-bold text-center">Summary</h3>
          <hr>
          <div class="d-flex">
            <h5 class="mx-5 fw-bold">Sub Amount </h5>
            <h5 class="mx-5"> {{TotalAmount}} Rs.</h5>
          </div>
          <div class="d-flex">
            <h5 class="mx-5 fw-bold">Delivery Charge </h5>
            <h5 class="mx-5"> {{extraCharges}} Rs.</h5>
          </div>
          <hr>
          <div class="d-flex">
            <h5 class="mx-5 fw-bold">Total Amount</h5>
            <h5 class="mx-5"> {{NetTotle}} /- Rs.</h5>
          </div>
          <hr>
          <button class="btn btn-success d-block mx-5 mb-3" (click)="checkout()">Checkout</button>
        </div>

      </div>
    </div>
  </div>
</section>
